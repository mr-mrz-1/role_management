# Details Management System (Backend)

1. ðŸ“Œ Overview
This project is a robust RESTful backend service designed to manage organizational hierarchies, including Roles, Departments, and Employee Personal Details. It is built using Spring Boot and PostgreSQL, focusing on high performance, clean architecture, and enterprise-grade coding standards.

The system utilizes optimized data retrieval strategies, including Native SQL Queries with Interface Projections, to handle complex joins efficiently while maintaining a decoupled architecture.

2. ðŸ›  Tech Stack
Language: Java 17

Framework: Spring Boot 3.x

Database: PostgreSQL

ORM: Spring Data JPA / Hibernate

Documentation: OpenAPI / Swagger UI

Build Tool: Maven

3. âœ¨ Key Features
Swagger API Documentation: Fully integrated Swagger UI for easy API exploration and testing.

Standardized API Responses: Follows a consistent wrapper structure (success, message, data) for all API responses, ensuring predictability for frontend consumption.

Global Exception Handling: Implements an ERP-level exception handling strategy using @ControllerAdvice and ProblemDetail, ensuring all errors (business logic, validation, or system) are caught and returned with meaningful messages and proper HTTP status codes.

Optimized Performance: Uses Native Queries and Projections to fetch flattened data (Joins) in a single database call, avoiding the N+1 problem.

Dynamic Filtering & Pagination: Server-side pagination with advanced filtering capabilities (Search, Role, Dept, City, Age).

4. ðŸ—„ï¸ Database Setup & Configuration
This project uses PostgreSQL. Since UUIDs are generated by the Java application, the database schema is straightforward.

4.1 Step-by-Step Setup (pgAdmin 4)
Follow these steps to initialize the database:

Open pgAdmin 4 on your local machine.

Connect to Server: In the browser tree (left side), navigate to Servers. Create a new server group or use the default one to connect to your local PostgreSQL instance (default password is usually required).

Create Database:

Right-click on Databases.

Select Create > Database...

Enter a name (e.g., role_management_db) and click Save.

Open Query Tool:

Left-click on your newly created database to select it.

Right-click on the database name and select Query Tool.

Run Script:

Copy the SQL script provided below.

Paste it into the Query Tool editor.

Click the Play button (â–¶) or press F5 to execute.

Update Application Properties:

Open src/main/resources/application.properties in your IDE.

Update the spring.datasource.url, username, and password to match the database you just created.

Properties

spring.datasource.url=jdbc:postgresql://localhost:5432/role_management_db
spring.datasource.username=postgres
spring.datasource.password=your_password

4.2 Database Creation Script
SQL

------------------------ Copy code Below ----------------

-- 1. Create 'role' table
CREATE TABLE IF NOT EXISTS role (
    id UUID PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ,
    is_deleted BOOLEAN DEFAULT FALSE
);

-- 2. Create 'department' table
CREATE TABLE IF NOT EXISTS department (
    id UUID PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ,
    is_deleted BOOLEAN DEFAULT FALSE
);

-- 3. Create 'personal_details' table
CREATE TABLE IF NOT EXISTS personal_details (
    id UUID PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    mobile_number VARCHAR NOT NULL,
    address VARCHAR(100),
    department_id UUID NOT NULL,
    role_id UUID NOT NULL,
    city VARCHAR(50) NOT NULL,
    age INTEGER,
    created_at TIMESTAMPTZ,
    updated_at TIMESTAMPTZ,
    is_deleted BOOLEAN DEFAULT FALSE,

    -- Foreign Key Constraints
    CONSTRAINT fk_department
        FOREIGN KEY (department_id)
        REFERENCES department(id)
        ON DELETE CASCADE,

    CONSTRAINT fk_role
        FOREIGN KEY (role_id)
        REFERENCES role(id)
        ON DELETE CASCADE
);

----------------------- RUN THIS QUERY TO CREATE TABLES -------------------

5. ðŸ”Œ API Documentation
Full API documentation is available via Swagger UI once the application is running. Below is a high-level overview of the available endpoints.

Swagger URL: http://localhost:8080/swagger-ui/index.html

Roles Controller
POST /api/v1/roles/add/{roleName} - Create a new Role.

GET /api/v1/roles/get/{id} - Fetch a Role by ID.

GET /api/v1/roles/get/all - List all Roles.

Department Controller
POST /api/v1/department/add/{departmentName} - Create a new Department.

GET /api/v1/department/get/{id} - Fetch a Department by ID.

GET /api/v1/department/get/all - List all Departments.

Employee Details Controller
POST /api/v1/details/add - Add a new Employee and link to Role/Department.

GET /api/v1/details/get/all - Advanced Search (Filter by Name, Role, Dept, Age, etc.) with Pagination.

6. ðŸš€ Running the Application

Steps to Run:

6.1 Configure the database and set url, username and password in the application.properties file.

6.2 Clone the repository Clone the branch into your preferred IDE (IntelliJ IDEA, Eclipse, or VS Code).

6.3 Run the code Navigate to the main application class (RoleManagementApplication.java) and run it as a Java Application.

Alternatively, run via terminal: mvn spring-boot:run

6.4 Test the APIs Once the server starts (default port 8080):

Recommended: Open Swagger UI at http://localhost:8080/swagger-ui/index.html to test endpoints visually.

Alternative: Use Postman to send requests to http://localhost:8080/api/v1/....

NOTE : I Accidentally initialed project with a wrong folder name, And I continued too much work here because that i haven't changed, If you want it to be changed then just ping me, I will update the name.